{# templates/inventory/_nav.html #}
{% load i18n %}

<header class="mb-3">

  {# العنوان والوصف #}
  <div class="d-flex justify-content-between align-items-start flex-wrap gap-2 mb-2">
    <div>
      <h1 class="h3 fw-semibold mb-1">
        {% trans "نظام إدارة المخزون" %}
      </h1>
      <p class="text-muted small mb-0">
        {% trans "إدارة المنتجات والمخازن وحركات ومستويات المخزون ضمن منصة Mazoon ERP." %}
      </p>
    </div>
  </div>

  {# شريط التنقل الفرعي #}
  <div class="card border-0 shadow-sm mb-2">
    <div class="card-body p-2">
      <ul class="nav nav-pills flex-wrap gap-2">

        <li class="nav-item">
          <a class="nav-link px-3 py-1 {% if subsection == 'dashboard' %}active{% endif %}"
             href="{% url 'inventory:dashboard' %}">
            <span class="small">{% trans "لوحة التحكم" %}</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link px-3 py-1 {% if subsection == 'products' %}active{% endif %}"
             href="{% url 'inventory:product_list' %}">
            <span class="small">{% trans "المنتجات" %}</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link px-3 py-1 {% if subsection == 'moves' %}active{% endif %}"
             href="{% url 'inventory:move_list' %}">
            <span class="small">{% trans "حركات المخزون" %}</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link px-3 py-1 {% if subsection == 'stock_levels' %}active{% endif %}"
             href="{% url 'inventory:stocklevel_list' %}">
            <span class="small">{% trans "مستويات المخزون" %}</span>
          </a>
        </li>

        {# الإعدادات (منسدلة) #}
        <li class="nav-item dropdown">
          <a class="nav-link px-3 py-1 dropdown-toggle {% if subsection in 'categories warehouses locations uom settings' %}active{% endif %}"
             href="#"
             role="button"
             data-bs-toggle="dropdown"
             aria-expanded="false">
            <span class="small">{% trans "الإعدادات" %}</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end shadow-sm border-0">
            <li>
              <a class="dropdown-item {% if subsection == 'categories' %}active{% endif %}"
                 href="{% url 'inventory:category_list' %}">
                {% trans "الفئات" %}
              </a>
            </li>
            <li>
              <a class="dropdown-item {% if subsection == 'warehouses' %}active{% endif %}"
                 href="{% url 'inventory:warehouse_list' %}">
                {% trans "المخازن" %}
              </a>
            </li>
            <li>
              <a class="dropdown-item {% if subsection == 'locations' %}active{% endif %}"
                 href="{% url 'inventory:location_list' %}">
                {% trans "مواقع التخزين" %}
              </a>
            </li>
            <li>
              <a class="dropdown-item {% if subsection == 'uom' %}active{% endif %}"
                 href="{% url 'uom:unit_list' %}">
                {% trans "وحدات القياس" %}
              </a>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li>
              <a class="dropdown-item {% if subsection == 'settings' %}active{% endif %}"
                 href="{% url 'inventory:settings' %}">
                {% trans "ضبط الإعدادات العامة" %}
              </a>
            </li>
          </ul>
        </li>

      </ul>
    </div>
  </div>

  {# الوصف الديناميكي أسفل التبويبات #}
  <p class="text-muted small mb-0">
    {% if subsection == 'dashboard' %}
      {% trans "نظرة عامة على المخزون وحركاته مع مؤشرات سريعة." %}
    {% elif subsection == 'products' %}
      {% trans "تعريف وإدارة المنتجات ووحدات القياس وحالة النشر والتتبع في المخزون." %}
    {% elif subsection == 'moves' %}
      {% trans "تسجيل وإدارة الحركات الواردة والصادرة والتحويلات بين المستودعات والمواقع." %}
    {% elif subsection == 'stock_levels' %}
      {% trans "متابعة مستويات المخزون، الحدود الدنيا، وحالة توفر الكميات لكل موقع." %}
    {% elif subsection == 'categories' %}
      {% trans "تنظيم المنتجات في تصنيفات وفئات منطقية لتسهيل البحث والتقارير." %}
    {% elif subsection == 'warehouses' %}
      {% trans "إدارة المستودعات الرئيسية التي يتم فيها حفظ المخزون." %}
    {% elif subsection == 'locations' %}
      {% trans "تعريف المواقع والأرفف داخل كل مستودع لتتبع أدق لحركة المخزون." %}
    {% elif subsection == 'uom' %}
      {% trans "إدارة وحدات القياس الأساسية والبديلة والرموز المستخدمة في النظام." %}
    {% elif subsection == 'settings' %}
      {% trans "ضبط إعدادات المخزون العامة مثل بادئات ترقيم الحركات." %}
    {% else %}
      {% trans "اختر إحدى الشاشات أعلاه لإدارة بيانات المخزون." %}
    {% endif %}
  </p>

</header>
