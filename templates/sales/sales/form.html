{% extends "sales/base_sales.html" %}
{% load i18n %}

{% block title %}
  {% trans "مستند مبيعات" %}
{% endblock %}

{% block sales_content %}

<div class="d-flex justify-content-between align-items-center mb-3">
  <div>
    <h1 class="h5 fw-bold mb-1">
      {% if document %}
        {% trans "تعديل مستند مبيعات" %}
      {% else %}
        {% trans "إنشاء مستند مبيعات" %}
      {% endif %}
    </h1>
    <p class="text-muted small mb-0">
      {% trans "إدارة عروض الأسعار وأوامر البيع." %}
    </p>
  </div>
</div>

<div class="card shadow-sm border-0">
  <div class="card-body">

    <form method="post" novalidate>
      {% csrf_token %}

      {{ form.non_field_errors }}

      <div class="row g-3">


        <!-- العميل -->
        <div class="col-md-8">
          <label for="{{ form.contact.id_for_label }}" class="form-label small fw-bold">
            {% trans "العميل" %}
          </label>
          {{ form.contact }}
          {{ form.contact.errors }}
        </div>

        <!-- التاريخ -->
        <div class="col-md-4">
          <label for="{{ form.date.id_for_label }}" class="form-label small fw-bold">
            {% trans "التاريخ" %}
          </label>
          {{ form.date }}
          {{ form.date.errors }}
        </div>

        <!-- تاريخ الانتهاء -->
        <div class="col-md-4">
          <label for="{{ form.due_date.id_for_label }}" class="form-label small fw-bold">
            {% trans "تاريخ الانتهاء" %}
          </label>
          {{ form.due_date }}
          {{ form.due_date.errors }}
        </div>

        <!-- ملاحظات داخلية -->
        <div class="col-12">
          <label for="{{ form.notes.id_for_label }}" class="form-label small fw-bold">
            {% trans "ملاحظات داخلية" %}
          </label>
          {{ form.notes }}
          {{ form.notes.errors }}
        </div>

        <!-- ملاحظات للعميل -->
        <div class="col-12">
          <label for="{{ form.customer_notes.id_for_label }}" class="form-label small fw-bold">
            {% trans "ملاحظات للعميل" %}
          </label>
          {{ form.customer_notes }}
          {{ form.customer_notes.errors }}
        </div>

      </div>

      <div class="d-flex justify-content-end gap-2 mt-4">
        <a href="{% url 'sales:sales_list' %}" class="btn btn-light">
          <i class="bi bi-arrow-right"></i>
          {% trans "رجوع" %}
        </a>

        <button type="submit" class="btn btn-primary">
          <i class="bi bi-check2-circle"></i>
          {% trans "حفظ" %}
        </button>
      </div>

    </form>

  </div>
</div>

{% endblock %}
