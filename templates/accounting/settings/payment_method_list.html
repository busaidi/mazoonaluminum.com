{% extends "accounting/base_accounting.html" %}
{% load i18n %}

{% block title %}{% trans "طرق الدفع" %}{% endblock %}

{% block accounting_content %}
<div class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2">
  <div>
    <h2 class="h5 mb-1">{% trans "طرق الدفع" %}</h2>
    <p class="text-muted small mb-0">
      {% trans "إدارة طرق الدفع المستخدمة في السندات والفواتير (نقدي، بنك، شيك، وغيرها)." %}
    </p>
  </div>
  <a href="{% url 'accounting:payment_method_create' %}" class="btn btn-primary btn-sm">
    <i class="bi bi-plus-lg"></i> {% trans "إضافة طريقة جديدة" %}
  </a>
</div>

<div class="card border-0 shadow-sm">
  <div class="card-body p-0">
    <div class="table-responsive">
      <table class="table table-hover table-sm align-middle mb-0">
        <thead class="bg-light small text-muted">
          <tr>
            <th style="width: 30%">{% trans "الاسم" %}</th>
            <th style="width: 15%">{% trans "الكود" %}</th>
            <th style="width: 20%">{% trans "النوع" %}</th>
            <th style="width: 15%">{% trans "الحالة" %}</th>
            <th class="text-end" style="width: 20%"></th>
          </tr>
        </thead>
        <tbody>
          {% for method in methods %}
          <tr>
            <td class="fw-semibold">
              {{ method.name }}
            </td>
            <td>
              <span class="badge bg-light text-dark border small">
                {{ method.code }}
              </span>
            </td>
            <td class="small">
              {{ method.get_method_type_display }}
            </td>
            <td>
              {% if method.is_active %}
                <span class="badge bg-success-subtle text-success border border-success-subtle small">
                  {% trans "نشط" %}
                </span>
              {% else %}
                <span class="badge bg-secondary-subtle text-secondary border border-secondary-subtle small">
                  {% trans "غير نشط" %}
                </span>
              {% endif %}
            </td>
            <td class="text-end">
              <a href="{% url 'accounting:payment_method_edit' method.pk %}"
                 class="btn btn-sm btn-outline-secondary">
                {% trans "تعديل" %}
              </a>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5" class="text-center py-4 text-muted small">
              {% trans "لا توجد طرق دفع معرفة." %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
