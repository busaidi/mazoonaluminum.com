{% extends "accounting/base_accounting.html" %}
{% load i18n %}

{% block title %}{{ title|default:_("حساب بنكي") }}{% endblock %}

{% block accounting_content %}

<div class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2">
  <div>
    <h2 class="h5 mb-1">
      {{ title|default:_("حساب بنكي") }}
    </h2>
    <p class="text-muted small mb-0">
      {% trans "قم بتعريف حساب بنكي جديد وربطه بحساب محاسبي من دليل الحسابات." %}
    </p>
  </div>
  <div class="d-flex gap-2">
    <a href="{% url 'banking:bank_account_list' %}" class="btn btn-sm btn-outline-secondary">
      {% trans "الحسابات البنكية" %}
    </a>
    <a href="{{ banking_nav.statement_upload_url }}" class="btn btn-sm btn-outline-secondary">
      {% trans "إضافة كشف بنك" %}
    </a>
  </div>
</div>

<form method="post" class="card card-body shadow-sm">
  {% csrf_token %}
  {{ form.non_field_errors }}

  <div class="row g-3">

    <div class="col-md-6">
      <label class="form-label" for="{{ form.name.id_for_label }}">
        {{ form.name.label }}
      </label>
      {{ form.name }}
      {% if form.name.help_text %}
        <div class="form-text">{{ form.name.help_text }}</div>
      {% endif %}
      {{ form.name.errors }}
    </div>

    <div class="col-md-6">
      <label class="form-label" for="{{ form.account.id_for_label }}">
        {{ form.account.label }}
      </label>
      {{ form.account }}
      {% if form.account.help_text %}
        <div class="form-text">{{ form.account.help_text }}</div>
      {% endif %}
      {{ form.account.errors }}
    </div>

    <div class="col-md-4">
      <label class="form-label" for="{{ form.bank_name.id_for_label }}">
        {{ form.bank_name.label }}
      </label>
      {{ form.bank_name }}
      {{ form.bank_name.errors }}
    </div>

    <div class="col-md-4">
      <label class="form-label" for="{{ form.account_number.id_for_label }}">
        {{ form.account_number.label }}
      </label>
      {{ form.account_number }}
      {{ form.account_number.errors }}
    </div>

    <div class="col-md-4">
      <label class="form-label" for="{{ form.iban.id_for_label }}">
        {{ form.iban.label }}
      </label>
      {{ form.iban }}
      {{ form.iban.errors }}
    </div>

    <div class="col-md-3">
      <label class="form-label" for="{{ form.currency.id_for_label }}">
        {{ form.currency.label }}
      </label>
      {{ form.currency }}
      {{ form.currency.errors }}
    </div>

    <div class="col-md-3 d-flex align-items-center">
      <div class="form-check mt-3">
        {{ form.is_active }}
        <label class="form-check-label" for="{{ form.is_active.id_for_label }}">
          {{ form.is_active.label }}
        </label>
        {{ form.is_active.errors }}
      </div>
    </div>

  </div>

  <div class="mt-3 d-flex justify-content-between">
    <a href="{% url 'banking:bank_account_list' %}" class="btn btn-sm btn-outline-secondary">
      {% trans "إلغاء" %}
    </a>
    <button type="submit" class="btn btn-sm btn-primary">
      {% trans "حفظ الحساب البنكي" %}
    </button>
  </div>
</form>

{% endblock %}
